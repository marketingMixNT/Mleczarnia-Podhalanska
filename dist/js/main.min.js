"use strict";var startDateLabel=document.querySelector("#start_date_label"),startDateInput=document.querySelector("#start_date"),endDateLabel=document.querySelector("#end_date_label"),endDateInput=document.querySelector("#end_date"),footerYear=document.querySelector("#footer_year"),today=new Date,year=today.getFullYear(),formattedDate=function(e){return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)},setTodaysDate=(startDateInput&&(startDateInput.value=formattedDate(today)),endDateInput&&(endDateInput.value=formattedDate(today)),function(){var e=["STY","LUT","MAR","KWI","MAJ","CZE","LIP","SIE","WRZ","PAŹ","LIS","GRU"],t=new Date,a=new Date,t=(a.setDate(t.getDate()+7),"".concat(e[t.getMonth()]," ").concat(t.getDate(),", ").concat(t.getFullYear())),e="".concat(e[a.getMonth()]," ").concat(a.getDate(),", ").concat(a.getFullYear());startDateLabel&&(startDateLabel.innerHTML=t),endDateLabel&&(endDateLabel.innerHTML=e)}),cookieBox=document.querySelector("#cookieBox"),acceptBtn=document.querySelector("#acceptBtn"),addCookie=function(){document.cookie="Polityka Prywatności; max-age=2592000",-1!==document.cookie.indexOf("Polityka Prywatności")&&cookieBox.classList.add("hidden")},checkCookie=function(){-1!==document.cookie.indexOf("Polityka Prywatności")?cookieBox.classList.add("hidden"):cookieBox.classList.remove("hidden")},filterItem=(checkCookie(),acceptBtn.addEventListener("click",function(){addCookie(),checkCookie()}),setTodaysDate(),footerYear&&(footerYear.innerHTML=year),document.addEventListener("DOMContentLoaded",function(){var t=document.getElementById("other-products__container"),e=Array.from(t.children).sort(function(){return.5-Math.random()});t.innerHTML="",e.forEach(function(e){return t.appendChild(e)})}),document.querySelector(".items-links")),filterImages=document.querySelectorAll(".project-img"),filterInfo=document.querySelector(".info");filterItem&&0<filterImages.length&&window.addEventListener("load",function(){var a="sklep";filterImages.forEach(function(e){var t=e.getAttribute("data-name");e.style.display=t===a?"block":"none"}),filterInfo&&filterInfo.querySelectorAll("[data-name]").forEach(function(e){var t=e.getAttribute("data-name");e.style.display=t===a?"block":"none"}),filterItem.querySelector('[data-name="'.concat(a,'"]')).classList.add("menu-active"),filterItem.addEventListener("click",function(e){var a;e.target.classList.contains("item-link")&&(document.querySelector(".menu-active").classList.remove("menu-active"),e.target.classList.add("menu-active"),a=e.target.getAttribute("data-name"),filterImages.forEach(function(e){var t=e.getAttribute("data-name");e.style.display=t===a||"all"===a?"block":"none"}),filterInfo)&&filterInfo.querySelectorAll("[data-name]").forEach(function(e){var t=e.getAttribute("data-name");e.style.display=t===a||"all"===a?"block":"none"})})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsic3RhcnREYXRlTGFiZWwiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJlbmREYXRlTGFiZWwiLCJlbmREYXRlSW5wdXQiLCJ0b2RheSIsIkRhdGUiLCJmb3JtYXR0ZWREYXRlIiwieWVhciIsImdldEZ1bGxZZWFyIiwibW9udGhzIiwiZGF0ZSIsImZ1dHVyZURhdGUiLCJnZXRNb250aCIsInNsaWNlIiwiZ2V0RGF0ZSIsInN0YXJ0RGF0ZUlucHV0IiwiZm9ybWF0dGVkRnV0dXJlRGF0ZSIsImNvbmNhdCIsImlubmVySFRNTCIsImZvcm1hdHRlZFRvZGF5IiwiY29va2llIiwiaW5kZXhPZiIsImNvb2tpZUJveCIsImNoZWNrQ29va2llIiwic2V0RGF0ZSIsImFkZCIsImZvb3RlclllYXIiLCJhY2NlcHRCdG4iLCJhZGRDb29raWUiLCJhZGRFdmVudExpc3RlbmVyIiwiZGl2cyIsIkFycmF5IiwiY29udGFpbmVyIiwic2h1ZmZsZWREaXZzIiwiY2xhc3NMaXN0Iiwic29ydCIsImZvckVhY2giLCJhcHBlbmRDaGlsZCIsInJlbW92ZSIsImZpbHRlckl0ZW0iLCJzZXRUb2RheXNEYXRlIiwiaW1hZ2UiLCJkaXNwbGF5IiwiZ2V0RWxlbWVudEJ5SWQiLCJmaWx0ZXJJbmZvIiwiZnJvbSIsImNoaWxkcmVuIiwiTWF0aCIsInJhbmRvbSIsImluZm9OYW1lIiwiaW5mb0l0ZW0iLCJkaXYiLCJmaWx0ZXJJbWFnZXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZmlsdGVyTmFtZSIsIndpbmRvdyIsImluaXRpYWxGaWx0ZXIiLCJmaWx0ZXJJbWFnZU5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJzdHlsZSIsInNlbGVjdGVkSXRlbSIsInRhcmdldCIsImNvbnRhaW5zIl0sIm1hcHBpbmdzIjoiYUFHQSxJQUFNQSxlQUFpQkMsU0FBU0MsY0FBYyxtQkFBbUIsRUFBM0RGLGVBQWlCQyxTQUFTQyxjQUFjLGFBQUEsRUFHeENDLGFBQWVGLFNBQVND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U0FBQ2MsR0FDaEQsSUFBSUQsRUFBV0MsRUFBU1EsYUFBYSxXQUFXLEVBRTVDUixFQUFTUyxNQUFNakIsUUFEZk8sSUFBYU8sRUFDWSxRQUVBLE1BRWpDLENBQUMsRUFHTGpCLFdBQVd0QyxjQUFhLGVBQUFnQixPQUFnQnVDLEVBQWEsSUFBQSxDQUFJLEVBQUV0QixVQUFVVCxJQUFJLGFBQWEsRUFFdEZjLFdBQVdWLGlCQUFpQixRQUFTLFNBQUMrQixHQUNsQyxJQUdRTixFQUhKTSxFQUFhQyxPQUFPM0IsVUFBVTRCLFNBQVMsV0FBVyxJQUNsRDlELFNBQVNDLGNBQWMsY0FBYyxFQUFFaUMsVUFBVUksT0FBTyxhQUFhLEVBQ3JFc0IsRUFBYUMsT0FBTzNCLFVBQVVULElBQUksYUFBYSxFQUMzQzZCLEVBQWFNLEVBQWFDLE9BQU9ILGFBQWEsV0FBVyxFQUU3RE4sYUFBYWhCLFFBQVEsU0FBQ0ssR0FDbEIsSUFBSWdCLEVBQWtCaEIsRUFBTWlCLGFBQWEsV0FBVyxFQUVoRGpCLEVBQU1rQixNQUFNakIsUUFEWmUsSUFBb0JILEdBQTZCLFFBQWZBLEVBQ1osUUFFQSxNQUU5QixDQUFDLEVBRUdWLGFBQ0FBLFdBQVdTLGlCQUFpQixhQUFhLEVBQUVqQixRQUFRLFNBQUNjLEdBQ2hELElBQUlELEVBQVdDLEVBQVNRLGFBQWEsV0FBVyxFQUU1Q1IsRUFBU1MsTUFBTWpCLFFBRGZPLElBQWFLLEdBQTZCLFFBQWZBLEVBQ0YsUUFFQSxNQUVqQyxDQUFDLENBR2IsQ0FBQyxDQUNMLENBQUMiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvL0RBVEUgUElDS0VSIERZTkFNSUMgREFUQVxuXG5cbmNvbnN0IHN0YXJ0RGF0ZUxhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N0YXJ0X2RhdGVfbGFiZWwnKVxuY29uc3Qgc3RhcnREYXRlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3RhcnRfZGF0ZScpXG5cbmNvbnN0IGVuZERhdGVMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlbmRfZGF0ZV9sYWJlbCcpXG5jb25zdCBlbmREYXRlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZW5kX2RhdGUnKVxuXG5jb25zdCBmb290ZXJZZWFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zvb3Rlcl95ZWFyJylcblxuY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpXG5cbmNvbnN0IHllYXIgPSB0b2RheS5nZXRGdWxsWWVhcigpXG5cblxuXG4gICAgY29uc3QgZm9ybWF0dGVkRGF0ZSA9IChkYXRlKSA9PntcblxuICAgICAgICAgcmV0dXJuIGRhdGUuZ2V0RnVsbFllYXIoKSArICctJyArICgnMCcgKyAoZGF0ZS5nZXRNb250aCgpICsgMSkpLnNsaWNlKC0yKSArICctJyArICgnMCcgKyBkYXRlLmdldERhdGUoKSkuc2xpY2UoLTIpXG4gICAgfSBcblxuXG5zdGFydERhdGVJbnB1dCA/IHN0YXJ0RGF0ZUlucHV0LnZhbHVlID1mb3JtYXR0ZWREYXRlKHRvZGF5KSA6ICcnXG5lbmREYXRlSW5wdXQgPyBlbmREYXRlSW5wdXQudmFsdWUgPWZvcm1hdHRlZERhdGUodG9kYXkpIDogJydcblxuXG5cblxuXG5jb25zdCBzZXRUb2RheXNEYXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IG1vbnRocyA9IFtcIlNUWVwiLCBcIkxVVFwiLCBcIk1BUlwiLCBcIktXSVwiLCBcIk1BSlwiLCBcIkNaRVwiLCBcIkxJUFwiLCBcIlNJRVwiLCBcIldSWlwiLCBcIlBBxblcIiwgXCJMSVNcIiwgXCJHUlVcIl07XG4gICAgXG4gICAgbGV0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICBsZXQgZnV0dXJlRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgZnV0dXJlRGF0ZS5zZXREYXRlKHRvZGF5LmdldERhdGUoKSArIDcpOyAvLyBEb2RhamVteSA3IGRuaSBkbyBvYmVjbmVqIGRhdHlcblxuICAgIGNvbnN0IGZvcm1hdHRlZFRvZGF5ID0gYCR7bW9udGhzW3RvZGF5LmdldE1vbnRoKCldfSAke3RvZGF5LmdldERhdGUoKX0sICR7dG9kYXkuZ2V0RnVsbFllYXIoKX1gO1xuICAgIGNvbnN0IGZvcm1hdHRlZEZ1dHVyZURhdGUgPSBgJHttb250aHNbZnV0dXJlRGF0ZS5nZXRNb250aCgpXX0gJHtmdXR1cmVEYXRlLmdldERhdGUoKX0sICR7ZnV0dXJlRGF0ZS5nZXRGdWxsWWVhcigpfWA7XG5cbiAgICBzdGFydERhdGVMYWJlbCA/IHN0YXJ0RGF0ZUxhYmVsLmlubmVySFRNTCA9IGZvcm1hdHRlZFRvZGF5IDogJydcbiAgICBlbmREYXRlTGFiZWwgPyAgZW5kRGF0ZUxhYmVsLmlubmVySFRNTCA9IGZvcm1hdHRlZEZ1dHVyZURhdGUgOiAnJ1xufTtcblxuXG5cblxuXG5jb25zdCBjb29raWVCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Nvb2tpZUJveFwiKTtcbmNvbnN0IGFjY2VwdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWNjZXB0QnRuXCIpO1xuXG5jb25zdCBhZGRDb29raWUgPSAoKSA9PiB7XG4gICAgZG9jdW1lbnQuY29va2llID0gXCJQb2xpdHlrYSBQcnl3YXRub8WbY2k7IG1heC1hZ2U9XCIgKyA2MCAqIDYwICogMjQgKiAzMDtcblxuICAgIGlmIChkb2N1bWVudC5jb29raWUuaW5kZXhPZihcIlBvbGl0eWthIFByeXdhdG5vxZtjaVwiKSAhPT0gLTEpIHtcbiAgICAgICAgY29va2llQm94LmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG4gICAgfVxufTtcblxuY29uc3QgY2hlY2tDb29raWUgPSAoKSA9PiB7XG4gICAgaWYgKGRvY3VtZW50LmNvb2tpZS5pbmRleE9mKFwiUG9saXR5a2EgUHJ5d2F0bm/Fm2NpXCIpICE9PSAtMSkge1xuICAgICAgICBjb29raWVCb3guY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb29raWVCb3guY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcbiAgICB9XG59O1xuXG5jaGVja0Nvb2tpZSgpO1xuXG5hY2NlcHRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBhZGRDb29raWUoKTtcbiAgICBjaGVja0Nvb2tpZSgpO1xufSk7XG5cblxuXG5cblxuXG5zZXRUb2RheXNEYXRlKCk7XG5cbmZvb3RlclllYXIgPyBmb290ZXJZZWFyLmlubmVySFRNTCA9IHllYXIgOiAnJ1xuXG5cblxuXG4vL1NIVUZGTEUgT1RIRVIgUFJPRFVDVFNcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdGhlci1wcm9kdWN0c19fY29udGFpbmVyJyk7XG4gICAgY29uc3QgZGl2cyA9IEFycmF5LmZyb20oY29udGFpbmVyLmNoaWxkcmVuKTsgXG4gICAgY29uc3Qgc2h1ZmZsZWREaXZzID0gZGl2cy5zb3J0KCgpID0+IDAuNSAtIE1hdGgucmFuZG9tKCkpOyBcblxuICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcblxuICAgIHNodWZmbGVkRGl2cy5mb3JFYWNoKGRpdiA9PiBjb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2KSk7XG59KTtcblxuLy9TSFVGRkxFIEFMTCBQUk9EVUNUU1xuXG4vLyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XG4vLyAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2R1Y3RzX19jb250YWluZXInKTtcbi8vICAgICBjb25zdCBkaXZzID0gQXJyYXkuZnJvbShjb250YWluZXIuY2hpbGRyZW4pOyBcbi8vICAgICBjb25zdCBzaHVmZmxlZERpdnMgPSBkaXZzLnNvcnQoKCkgPT4gMC41IC0gTWF0aC5yYW5kb20oKSk7IFxuXG4vLyAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuXG4vLyAgICAgc2h1ZmZsZWREaXZzLmZvckVhY2goZGl2ID0+IGNvbnRhaW5lci5hcHBlbmRDaGlsZChkaXYpKTtcbi8vIH0pO1xuXG5cblxuXG4vL0dBTExFUlkgXG5jb25zdCBmaWx0ZXJJdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLml0ZW1zLWxpbmtzJyk7XG5jb25zdCBmaWx0ZXJJbWFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvamVjdC1pbWcnKTtcbmNvbnN0IGZpbHRlckluZm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5mbycpO1xuXG5pZiAoZmlsdGVySXRlbSAmJiBmaWx0ZXJJbWFnZXMubGVuZ3RoID4gMCkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBpbml0aWFsRmlsdGVyID0gJ3NrbGVwJztcblxuICAgICAgICBmaWx0ZXJJbWFnZXMuZm9yRWFjaCgoaW1hZ2UpID0+IHtcbiAgICAgICAgICAgIGxldCBmaWx0ZXJJbWFnZU5hbWUgPSBpbWFnZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbmFtZScpO1xuICAgICAgICAgICAgaWYgKGZpbHRlckltYWdlTmFtZSA9PT0gaW5pdGlhbEZpbHRlcikge1xuICAgICAgICAgICAgICAgIGltYWdlLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGltYWdlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGZpbHRlckluZm8pIHtcbiAgICAgICAgICAgIGZpbHRlckluZm8ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbmFtZV0nKS5mb3JFYWNoKChpbmZvSXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBpbmZvTmFtZSA9IGluZm9JdGVtLmdldEF0dHJpYnV0ZSgnZGF0YS1uYW1lJyk7XG4gICAgICAgICAgICAgICAgaWYgKGluZm9OYW1lID09PSBpbml0aWFsRmlsdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGluZm9JdGVtLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaW5mb0l0ZW0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZmlsdGVySXRlbS5xdWVyeVNlbGVjdG9yKGBbZGF0YS1uYW1lPVwiJHtpbml0aWFsRmlsdGVyfVwiXWApLmNsYXNzTGlzdC5hZGQoJ21lbnUtYWN0aXZlJyk7XG5cbiAgICAgICAgZmlsdGVySXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChzZWxlY3RlZEl0ZW0pID0+IHtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZEl0ZW0udGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnaXRlbS1saW5rJykpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVudS1hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCdtZW51LWFjdGl2ZScpO1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkSXRlbS50YXJnZXQuY2xhc3NMaXN0LmFkZCgnbWVudS1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICBsZXQgZmlsdGVyTmFtZSA9IHNlbGVjdGVkSXRlbS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLW5hbWUnKTtcblxuICAgICAgICAgICAgICAgIGZpbHRlckltYWdlcy5mb3JFYWNoKChpbWFnZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZmlsdGVySW1hZ2VOYW1lID0gaW1hZ2UuZ2V0QXR0cmlidXRlKCdkYXRhLW5hbWUnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlckltYWdlTmFtZSA9PT0gZmlsdGVyTmFtZSB8fCBmaWx0ZXJOYW1lID09PSAnYWxsJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2Uuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlckluZm8pIHtcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVySW5mby5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1uYW1lXScpLmZvckVhY2goKGluZm9JdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5mb05hbWUgPSBpbmZvSXRlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbmFtZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZm9OYW1lID09PSBmaWx0ZXJOYW1lIHx8IGZpbHRlck5hbWUgPT09ICdhbGwnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mb0l0ZW0uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mb0l0ZW0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuIl19
